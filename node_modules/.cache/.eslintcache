[{"/home/farhan/Downloads/demo-cchat-main/cchat/src/index.js":"1","/home/farhan/Downloads/demo-cchat-main/cchat/src/reportWebVitals.js":"2","/home/farhan/Downloads/demo-cchat-main/cchat/src/App.js":"3","/home/farhan/Downloads/demo-cchat-main/cchat/src/component/Join/Join.js":"4","/home/farhan/Downloads/demo-cchat-main/cchat/src/component/Chat/Chat.js":"5","/home/farhan/Downloads/demo-cchat-main/cchat/src/component/Message/Message.js":"6"},{"size":550,"mtime":1690360023425,"results":"7","hashOfConfig":"8"},{"size":362,"mtime":499162500000,"results":"9","hashOfConfig":"8"},{"size":390,"mtime":1690360204772,"results":"10","hashOfConfig":"8"},{"size":961,"mtime":1690361824206,"results":"11","hashOfConfig":"8"},{"size":2841,"mtime":1690364257474,"results":"12","hashOfConfig":"8"},{"size":468,"mtime":1621258300000,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","suppressedMessages":"16","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"17"},"bs0h11",{"filePath":"18","messages":"19","suppressedMessages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"17"},{"filePath":"21","messages":"22","suppressedMessages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"17"},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30"},{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"17"},"/home/farhan/Downloads/demo-cchat-main/cchat/src/index.js",[],[],[],"/home/farhan/Downloads/demo-cchat-main/cchat/src/reportWebVitals.js",[],[],"/home/farhan/Downloads/demo-cchat-main/cchat/src/App.js",[],[],"/home/farhan/Downloads/demo-cchat-main/cchat/src/component/Join/Join.js",[],[],"/home/farhan/Downloads/demo-cchat-main/cchat/src/component/Chat/Chat.js",["34","35"],[],"import React, { useEffect, useState } from 'react'\r\nimport { user } from \"../Join/Join\";\r\nimport socketIo from \"socket.io-client\";\r\nimport \"./Chat.css\";\r\nimport sendLogo from \"../../images/send.png\";\r\nimport Message from \"../Message/Message\";\r\nimport ReactScrollToBottom from \"react-scroll-to-bottom\";\r\nimport closeIcon from \"../../images/closeIcon.png\";\r\n\r\nlet socket;\r\n\r\nconst ENDPOINT = \"https://privatechatapp.onrender.com/\";\r\n\r\nconst Chat = () => {\r\n    const [id, setid] = useState(\"\");\r\n    const [messages, setMessages] = useState([])\r\n\r\n    const send = () => {\r\n        const message = document.getElementById('chatInput').value;\r\n        socket.emit('message', { message, id });\r\n        document.getElementById('chatInput').value = \"\";\r\n    }\r\n\r\n    console.log(messages);\r\n    useEffect(() => {\r\n        socket = socketIo(ENDPOINT, { transports: ['websocket'] });\r\n\r\n        socket.on('connect', () => {\r\n            alert('Connected');\r\n            setid(socket.id);\r\n\r\n        })\r\n        console.log(socket);\r\n        socket.emit('joined', { user })\r\n\r\n        socket.on('welcome', (data) => {\r\n            setMessages([...messages, data]);\r\n            console.log(data.user, data.message);\r\n        })\r\n\r\n        socket.on('userJoined', (data) => {\r\n            setMessages([...messages, data]);\r\n            console.log(data.user, data.message);\r\n        })\r\n\r\n        socket.on('leave', (data) => {\r\n            setMessages([...messages, data]);\r\n            console.log(data.user, data.message)\r\n        })\r\n\r\n        return () => {\r\n            socket.emit('disconnected');\r\n            socket.off();\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        socket.on('sendMessage', (data) => {\r\n            setMessages([...messages, data]);\r\n            console.log(data.user, data.message, data.id);\r\n        })\r\n        return () => {\r\n            socket.off();\r\n        }\r\n    }, [messages])\r\n\r\n    return (\r\n        <div className=\"chatPage\">\r\n            <div className=\"chatContainer\">\r\n                <div className=\"header\">\r\n                    <h2>Private Chat</h2>\r\n                    {/* <a href=\"/\"> <img src={closeIcon} alt=\"Close\" /></a> */}\r\n                </div>\r\n                <ReactScrollToBottom className=\"chatBox\">\r\n                    {messages.map((item, i) => <Message user={item.id === id ? '' : item.user} message={item.message} classs={item.id === id ? 'right' : 'left'} />)}\r\n                </ReactScrollToBottom>\r\n                <div className=\"inputBox\">\r\n                    <input onKeyPress={(event) => event.key === 'Enter' ? send() : null} type=\"text\" id=\"chatInput\" />\r\n                    <button onClick={send} className=\"sendBtn\"><img src={sendLogo} alt=\"Send\" /></button>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n","/home/farhan/Downloads/demo-cchat-main/cchat/src/component/Message/Message.js",[],[],{"ruleId":"36","severity":1,"message":"37","line":8,"column":8,"nodeType":"38","messageId":"39","endLine":8,"endColumn":17},{"ruleId":"40","severity":1,"message":"41","line":55,"column":8,"nodeType":"42","endLine":55,"endColumn":10,"suggestions":"43"},"no-unused-vars","'closeIcon' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'messages'. Either include it or remove the dependency array. You can also do a functional update 'setMessages(m => ...)' if you only need 'messages' in the 'setMessages' call.","ArrayExpression",["44"],{"desc":"45","fix":"46"},"Update the dependencies array to be: [messages]",{"range":"47","text":"48"},[1642,1644],"[messages]"]